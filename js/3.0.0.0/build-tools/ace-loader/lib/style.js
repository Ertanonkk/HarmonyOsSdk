"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_newArrowCheck2=_interopRequireDefault(require("@babel/runtime/helpers/newArrowCheck")),_util=require("./util"),_parser=require("./parser"),compileStyle=require("./lite/lite-transform-style"),_require=require("./lite/lite-enum"),DEVICE_LEVEL=_require.DEVICE_LEVEL;module.exports=function(e){var r=this;this.cacheable&&this.cacheable();var t=this.async();(0,_parser.parseStyle)(e,this.resourcePath).then(function(e){var i=e.parsed,l=e.log;(0,_newArrowCheck2.default)(this,r),l&&l.length&&(0,_util.logWarn)(this,l),process.env.DEVICE_LEVEL===DEVICE_LEVEL.LITE&&(i=compileStyle.transformStyle(i)),t(null,i)}.bind(this)).catch(function(e){(0,_newArrowCheck2.default)(this,r),(0,_util.logWarn)(this,[{reason:"ERROR: Failed to parse the CSS file. "+e}]),t("")}.bind(this))};