"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_newArrowCheck2=_interopRequireDefault(require("@babel/runtime/helpers/newArrowCheck")),_loaderUtils=_interopRequireDefault(require("loader-utils")),_parser=require("./parser");module.exports=function(e){var r=this;this.cacheable&&this.cacheable();var t=this.async(),i=_loaderUtils.default.getOptions(this)||{},n=(_loaderUtils.default.parseQuery(this.resourceQuery)||{}).name;(i.extract?(0,_parser.extractBlocks)(e,"elements"):Promise.resolve({content:e})).then(function(e){if((0,_newArrowCheck2.default)(this,r),i.raw)return e[n].content}.bind(this)).then(function(e){(0,_newArrowCheck2.default)(this,r),t(null,e)}.bind(this)).catch(function(e){(0,_newArrowCheck2.default)(this,r),t(e,"")}.bind(this))};