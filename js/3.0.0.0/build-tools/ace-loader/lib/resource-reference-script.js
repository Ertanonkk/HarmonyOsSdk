"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_wrapNativeSuper2=_interopRequireDefault(require("@babel/runtime/helpers/wrapNativeSuper"));function _wrapRegExp(e,u){_wrapRegExp=function(e,u){return new p(e,void 0,u)};var r=(0,_wrapNativeSuper2.default)(RegExp),t=RegExp.prototype,a=new WeakMap;function p(e,u,t){var p=r.call(this,e,u);return a.set(p,t||a.get(e)),p}function i(e,u){var r=a.get(u);return Object.keys(r).reduce(function(u,t){return u[t]=e[r[t]],u},Object.create(null))}return(0,_inherits2.default)(p,r),p.prototype.exec=function(e){var u=t.exec.call(this,e);return u&&(u.groups=i(u,this)),u},p.prototype[Symbol.replace]=function(e,u){if("string"==typeof u){var r=a.get(this);return t[Symbol.replace].call(this,e,u.replace(/\$<([^>]+)>/g,function(e,u){return"$"+r[u]}))}if("function"==typeof u){var p=this;return t[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!==(0,_typeof2.default)(e[e.length-1])&&e.push(i(e,p)),u.apply(this,e)})}return t[Symbol.replace].call(this,e,u)},_wrapRegExp.apply(this,arguments)}var OHOS_THEME_PROP_GROUPS=require("./theme/ohosStyles");module.exports=function(e){for(var u,r=_wrapRegExp(/"?this[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\.\$r[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*((["']ohos\.([0-9A-Z_a-z]+)["']))[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\)"?/g,{resName:3});u=r.exec(e);){var t=u.groups.resName;if(t&&OHOS_THEME_PROP_GROUPS[t]){var a='"@ohos_id_'+OHOS_THEME_PROP_GROUPS[t]+'"';e=e.replace(u[0],a),r.lastIndex-=u[0].length-a.length}}for(var p=_wrapRegExp(/"?this[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\.\$r[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*((["']sys\.([0-9A-Z_a-z]+)\.([0-9A-Z_a-z]+)["']))[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\)"?/g,{resType:3,resName:4});u=p.exec(e);){var i=u.groups.resName,n=u.groups.resType;if(i&&n&&OHOS_THEME_PROP_GROUPS[i]){var l='"@sys.'+n+"."+OHOS_THEME_PROP_GROUPS[i]+'"';e=e.replace(u[0],l),p.lastIndex-=u[0].length-l.length}}for(var s=_wrapRegExp(/"?this[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\.\$r[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*((["']app\.([0-9A-Z_a-z]+)\.([0-9A-Z_a-z]+)["']))[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\)"?/g,{resType:3,resName:4});u=s.exec(e);){var o=u.groups.resName,F=u.groups.resType;if(o&&F){var _='"@app.'+F+"."+o+'"';e=e.replace(u[0],_),s.lastIndex-=u[0].length-_.length}}return e};